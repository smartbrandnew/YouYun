<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Billiard 3</title>
    <link rel="stylesheet" href="../utils/style.css">
</head>
    <body>
        <canvas id="canvas" width="400", height="400"></canvas>
        <script src="../utils/utils.js"></script>
        <script src="../utils/ball.js"></script>
        <script>
            window.onload = function () {
                var canvas = document.getElementById('canvas'),
                    context = canvas.getContext('2d'),
                    ball0 = new Ball(80),
                    ball1 = new Ball(40),
                    bounce = -1.0;
                
                ball0.mass = 2;
                ball0.x = canvas.width - 200;
                ball0.y = canvas.height - 200;
                ball0.vx =  Math.random() * 10 - 5;
                ball0.vy = Math.random() * 10 - 5;

                ball1.mass = 1;
                ball1.x = 100;
                ball1.y = 100;
                ball1.vx = Math.random() * 10 -5;
                ball1.vy = Math.random() * 10 -5;

                function checkCollosion (ball0, ball1) {
                }


                function checkWalls (ball) {
                    if (ball.x + ball.radius > canvas.width) {
                        ball.x = canvas.width - ball.radius;
                        ball.vx *= bounce;
                    } else if (ball.x - ball.radius < 0) {
                        ball.x = ball.radius;
                        ball.vx *= bounce;
                    }
                    if (ball.y + ball.radius > canvas.height) {
                        ball.y = vanvas.height - ball.radius;
                        ball.vy *= bounce;
                    } else if (ball.y - ball.radius < 0){
                        ball.y = ball.radius;
                        ball.vy *=bounce;
                    }
                }

                (function drawFrame () {
                    window.requestAnimationFrame(drawFrame, canvas);
                    context.clearRect(0, 0, canvas.width, canvas.height);

                    ball0.x += ball0.vx;
                    ball0.y += ball0.vy;
                    ball1.x += ball1.vx;
                    ball1.y += ball1.vy;

                    checkCollosion(ball0, ball1);
                    checkWalls(ball0);
                    checkWalls(ball1);

                    ball0.draw(context);
                    ball1.draw(context);
                }());
            }
        </script>
</body>
</html>